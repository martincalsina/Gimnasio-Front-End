<div class="container mt-5 mb-5">

    <div class="titulo mt-5 mb-5">
        <h5>Edite los datos de su perfil</h5>
    </div>
    
    <form [formGroup]="editarPerfilForm!" (ngSubmit)="editarUsuario()" name="editarPerfil">

        <div class="form-group row">
            <label for="nombre" class="col-sm-2 col-form-label">Nombre</label>
            <div class="col-sm-10">
                <input [(ngModel)]="nombre"  formControlName="nombre"
                [class.invalid]="!inputValido('nombre') && this.editarPerfilForm!.get('nombre')?.touched"  
                    [class.valid]="inputValido('nombre') && this.editarPerfilForm!.get('nombre')?.touched"
                type="text" class="form-control" name="nombre" placeholder="Nombre">
                <div class="form-invalid" *ngIf="editarPerfilForm!.get('nombre')!.hasError('required') && editarPerfilForm!.get('nombre')!.touched">
                    Campo requerido.
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="apellido" class="col-sm-2 col-form-label">Apellido</label>
            <div class="col-sm-10">
                <input [(ngModel)]="apellido" formControlName="apellido"
                [class.invalid]="!inputValido('apellido') && this.editarPerfilForm!.get('apellido')?.touched"  
                    [class.valid]="inputValido('apellido') && this.editarPerfilForm!.get('apellido')?.touched"
                type="text" class="form-control" name="apellido" placeholder="Apellido">
                <div class="form-invalid" *ngIf="editarPerfilForm!.get('apellido')!.hasError('required') && editarPerfilForm!.get('apellido')!.touched">
                    Campo requerido.
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label for="staticEmail" class="col-sm-2 col-form-label">Correo Electrónico</label>
            <div class="col-sm-10">
                <input [(ngModel)]="correo" formControlName="correo"
                type="email" readonly class="form-control-plaintext" name="staticEmail" value="email@example.com">
            </div>
        </div>
        
        <div class="form-group row">
            <label for="password" class="col-sm-2 col-form-label">Contraseña</label>
            <div class="col-sm-10">
                <input [(ngModel)]="password" formControlName="password"
                [class.invalid]="!inputValido('password') && this.editarPerfilForm!.get('password')?.touched"  
                    [class.valid]="inputValido('password') && this.editarPerfilForm!.get('password')?.touched"
                type="password" class="form-control" name="password" placeholder="Ingrese su contraseña para actualizar sus datos">
                <div class="form-invalid" *ngIf="editarPerfilForm!.get('password')!.hasError('required') && editarPerfilForm!.get('password')!.touched">
                    Campo requerido.
                </div>
                <div class="form-invalid" *ngIf="passwordInvalida">
                    La contraseña ingresada es incorrecta.
                </div>
            </div>
        </div>

        <div *ngIf="usuarioEditado" class="alert alert-success alert-dismissible fade show" role="alert">
            <p>Ha editado sus datos exitósamente</p>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        
        <button type="submit" class="btn btn-success">Editar</button>
    
    </form>
</div>